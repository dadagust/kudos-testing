# Блок «Новинки этого года» на лендинге

## Цель

Сверстать и подключить блок витрины «Новинки этого года» на главной странице лендинга **один в один с макетами** (десктоп + мобильный), используя уже существующие бекенд‑эндпоинты для получения данных о товарах и группах товаров.

Блок должен уметь отображать как обычные товары, так и **группы товаров с вариантами цвета**, с возможностью переключения цвета внутри карточки группы.

## Дизайн

- Figma (desktop 1400): `https://www.figma.com/design/dEU66gzw6eBDF4fVgAcDvt/Kudos--Design-?node-id=4214-4455&t=pd0iv0HLxXa7lV7T-4`
- Экспорт дизайна: `docs/design/kudos-new-arrival-desktop.png` (точный скрин фрейма)

- Figma (mobile 350): `https://www.figma.com/design/dEU66gzw6eBDF4fVgAcDvt/Kudos--Design-?node-id=4214-5130&t=pd0iv0HLxXa7lV7T-4`
- Экспорт дизайна: `docs/design/kudos-new-arrival-mobile.png` (точный скрин фрейма)

---

## Размещение на странице

- Блок находится на главной странице лендинга (там же, где остальные секции каталога). под секцией с картинокй и над секцией Каталог
- Заголовок секции: **«Новинки этого года»**, по центру.
- Блок тянется по ширине контейнера лендинга, со стандартными отступами слева/справа и сверху/снизу на белом фоне как на других компонентах.

---

## Данные

Бекенд‑эндпоинты для загрузки данных уже реализованы. На фронте нужно:

1. Использовать существующий эндпоинт для получения списка новинок (список и формат данных см. в текущем API; метод - products/new-items/).
2. В ответе distingush два типа сущностей:
   - **Обычный товар** — один артикул без вариантов цвета.
   - **Группа товаров** — несколько одинаковых товаров, различающихся только цветом.

Минимальный ожидаемый набор данных для карточки:

### Обычный товар

- `id`
- `type` — например, `"product"` (или эквивалент в текущем API)
- `name` — название товара (например, «Стул Кампо»)
- `price_rub` — стоимость аренды за сутки (например, `900`)
- `image` — URL основного изображения
- `slug` — для перехода на страницу товара при клике

### Группа товаров

- `id`
- `type` — например, `"group"` (или эквивалент)
- `name` — общее название группы (например, «Пуф Жан большой»)
- `price_rub` — стоимость аренды за сутки для группы (берём общую цену / цену выбранного варианта)
- `variants` — массив вариантов цвета. Для каждого варианта:
  - `id`
  - `color_name` — человекочитаемое название цвета (например, «Белый», «Фиолетовый»)
  - `color_value` — значение для кружочка цвета (см. ниже, может быть `beige`, `white`, `black`, `not-important`, `multicolored` и т.п.)
  - `image` — URL изображения этого варианта (соответствующий цвету)
- (опционально) ссылка/slug группы.

При необходимости - менять endpoint на backend

---

## Цветовые кружочки (variants.color_value)

В каждом товаре есть цвет, у которого в свою очередь есть значение поля `value` используется для отрисовки кружочка цвета:

- Если значение — нормальное CSS‑имя цвета (`white`, `black`, `beige`, `red`, `green` и т.д.) или HEX, использовать его напрямую как `background-color`.
- Если значение **`not-important`**:
  - Кружок **прозрачный** (`background-color: transparent`) с тонкой серой обводкой.
- Если значение **`multicolored`**:
  - Кружок с **градиентной заливкой**, например линейный градиент под углом (пара ярких оттенков, чтобы визуально отличался от остальных).

Активный выбранный цвет:
- Имеет чёткую обводку (чёрную или тёмно‑серую), чтобы было понятно, какой цвет выбран сейчас.
- Остальные кружочки — с более лёгкой/светлой обводкой.

---

## Десктопная вёрстка (по первому скрину)

### Общая сетка

- Ширина макета: примерно 1400px (смотри скрин).
- Заголовок «Новинки этого года» по центру, шрифт чуть крупнее обычного текста, тёмно‑серый.
- Под заголовком — **две строки по 4 товара** (итого 10 карточек), как на макете:
  - 1‑я строка: 5 карточки новинок.
  - 2‑я строка: следующие 6 карточки.
- Между карточками на десктопе есть **иконка плюс** (`+`) на отдельном месте между товарами:
  - Схема в строке: `Товар — плюс — Товар — плюс — Товар — плюс — Товар`.
  - Плюсы расположены по центру по вертикали между соседними картинками.
  - Плюсы декоративные (по макету), взаимодействия с ними нет. (пока-что)

Реализация сетки:
- Точно так-же как и сетка в Компоненте 'CatalogueList'

### Карточка товара — базовый вид

Общие требования (для **обычного товара**):

1. **Изображение**
   - Большое, занимая основную часть карточки по высоте.
   - Изображения по высоте максимально выровнять между собой, чтобы верхние края карточек были на одной линии (как на макете).
   - Пропорции сохраняем, лишнее можно обрезать через `object-fit: cover` / `contain` в зависимости от текущей системы.

2. **Название**
   - Находится под изображением.
   - Пример: «Стул Кампо», «Подстановочная тарелка Перле».
   - Шрифт обычный, тёмно‑серый (#4A4B4D или аналогичный из дизайн‑системы), выравнивание по левому краю.

3. **Цена**
   - Строкой под названием.
   - Формат: `<price> ₽ за сутки` (например, `900 ₽ за сутки`).
   - Число форматировать с пробелом для тысяч (например, `16 000 ₽ за сутки`).
   - Шрифт такой же или чуть меньше, чем у названия, но тоже тёмный и читаемый.

### Карточка группы товаров

Карточка группы товаров повторяет структуру обычной карточки, но в неё добавляется зона выбора цвета:

1. Над названием (в нижней части картинки) отображается:
   - **Название выбранного цвета** (например, «Белый», «Фиолетовый»).
   - Под ним — **строка из кружочков цветов** (варианты из `variants`).

2. При клике по кружочку:
   - Меняется **активный вариант** для этой карточки.
   - Обновляется название цвета над кружочками.
   - Обновляется изображение в карточке (подставляется картинка выбранного варианта).
   - Активный кружочек получает «выделение» (более контрастная обводка).

3. Название товара и цена под карточкой:
   - Название товара не меняется (групповое, как на макете: «Пуф Жан большой»).
   - Цена — общая для группы (`price_rub`), формат как выше.

4. Для групповых карточек можно слегка подсветить зону с цветами полупрозрачным фоном (как на макете — небольшая прозрачная «подложка» под названием цвета и кружками), чтобы визуально отделить её от фона.

---

## Мобильная вёрстка (по второму скрину)

Ориентир — второй скрин (вертикальный формат).

### Брейкпоинты (примерно)

- **Desktop ≥ 1024 px:** 4 карточки в строку (с плюсами между ними).
- **Tablet / Mobile ~ 768 px и ниже:** 2 карточки в строку.
- **Очень маленький экран ≤ 480 px:** допускается переход на 1 карточку в строку, если без этого верстка «ломается».

### Поведение на мобильных

- Заголовок «Новинки этого года» остаётся по центру.
- Карточки масштабируются так, чтобы помещаться в две колонки.
- Плюсы на мобильном:
  - Располагаются между карточками аналогично макету (между двумя товарами первой строки и т.д.).
  - Если верстка слишком ломается, допускается убрать плюсы на самых маленьких экранах — главное, чтобы мобильный макет, как на скрине, выглядел аккуратно.

- Текст под карточками:
  - Название и цена под каждой карточкой, выравнивание по левому краю соответствующей колонки, как на макете.
  - Отступы между строками сохранить примерно как на скрине (на глаз: 12–16 px между заголовком и картинкой, 12 px между названием и ценой).

- Цветовые кружочки и логика групп:
  - Поведение полностью такое же, как на десктопе.
  - Кружочки выстраиваются в одну строку, не выходя за пределы карточки; при недостатке места можно уменьшить размер кружков.

---

## Кнопка «Показать все новинки»

Внизу блока находится кнопка:

- Текст: **«Показать все новинки»**.
- Центрируется по горизонтали относительно блока.
- Широкий прямоугольник с закруглёнными углами (смотреть по макету).
- Цвет фона:
  - Тёмно‑серый (ориентир как на скрине, можно использовать основной тёмный цвет дизайн‑системы).
- Цвет текста: белый.
- При наведении:
  - Лёгкое затемнение/осветление или изменение прозрачности (аккуратный hover‑эффект).
- По клику:
  - Переход на страницу со всеми новинками или общим каталогом (использовать уже существующий маршрут, если он есть; в противном случае — оставить TODO/заглушку, но саму кнопку и верстку реализовать полностью).

---

## Поведение/интерактив

1. **Загрузка данных**
   - При первом появлении блока — запрос к бекенду за списком новинок.
   - Пока данные не загружены:
     - Либо показывать skeleton‑заглушки карточек,
     - Либо аккуратный прелоадер (в зависимости от принятых паттернов в проекте).

2. **Ошибки загрузки**
   - При ошибке запроса можно показать короткое сообщение или ничего не рендерить (на усмотрение, но без «красных» алертов — блок не критичен для работы страницы).

3. **Клики по карточке**
   - Клик по изображению/названию товара ведёт на страницу товара/группы (если в данных есть соответствующая ссылка/slug).
   - Нажатие по кружочку **не** должно вести на детальную страницу, а только переключать цвет внутри карточки.

4. **Адаптивность**
   - При изменении ширины окна верстка остаётся аккуратной:
     - карточки не «налезают» друг на друга,
     - плюсики остаются по центру между карточками или скрываются на маленьких экранах согласно описанию.

---

## Визуальные ориентиры по макету

Опираться на присланные скрины:

- Фон — белый.
- Основной текст — тёмно‑серый.
- Отступы:
  - Между заголовком и первой строкой карточек — примерно 40–48 px.
  - Между строками карточек — примерно 40 px.
  - Между нижней строкой карточек и кнопкой — 32–40 px.
- Размеры изображений и карточек подогнать так, чтобы общая композиция выглядела максимально близко к макету.

---

## Технические требования

- Использовать текущий стек проекта (Next.js / React / TypeScript + существующая система стилей: SASS/CSS‑modules и т.п.).
- Вынести блок в отдельный компонент, например:
  - `components/NewArrivalsSection/`  
  с файлом компонента и стилями (`NewArrivalsSection.tsx` + `NewArrivalsSection.module.sass`).
- Компонент должен быть переиспользуемым:
  - При желании его можно будет вставить на другие страницы, передавая данные через пропсы или внутренний fetch.
- Соблюдать общие правила кодстайла проекта (импорты, форматирование, именование классов, работа с API и т.д.).

---

## Критерии готовности

1. Блок «Новинки этого года» визуально соответствует макетам для десктопа и мобильной версии (по предоставленным png).
2. Товары подгружаются с бекенда и корректно отображаются:
   - обычные товары — без зоны выбора цвета,
   - группы товаров — с названием цвета и кружочками, при переключении которых меняется картинка и подпись цвета.
3. Цветовые кружочки корректно обрабатывают значения `beige`, `white`, `black`, другие стандартные цвета, а также `not-important` (прозрачный) и `multicolored` (градиент).
4. Секция адаптивна: на десктопе — по 4 товара в строку с плюсиками между ними, на мобильных — по 2 товара в строку (либо 1, если экран очень узкий), верстка не разваливается.
5. Кнопка «Показать все новинки» работает и визуально совпадает с макетом.
